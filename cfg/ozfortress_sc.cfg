//
// OZFORTRESS SERVER CONFIGS
// Base ozfortress config executed by all other ozfortress configs. This is used to enforce defaults across all formats, and therefore should not be format specific.
//

// Essential Network and Server Performance Commands
// These commands are taken from the RGL base config, all credits for these go to them! https://github.com/RGLgg/server-resources-updater/tree/master?tab=GPL-3.0-1-ov-file#readme

exec default.cfg

host_framerate 0

sv_client_min_interp_ratio 1                   // clamps min client interp settings
sv_client_max_interp_ratio 2                   // clamps max client interp settings

mp_disable_respawn_times 0
mp_fadetoblack 0
mp_footsteps 1
mp_forcecamera 1
mp_forcerespawn 1
mp_fraglimit 0
mp_friendlyfire 0
mp_highlander 0
mp_idledealmethod 2
mp_idlemaxtime 5
mp_match_end_at_timelimit 1
mp_maxrounds 0
mp_respawnwavetime 10
mp_show_voice_icons 0
mp_stalemate_enable 0
mp_teams_unbalance_limit 0
mp_forceautoteam 0
mp_timelimit 0
mp_tournament 1
mp_tournament_allow_non_admin_restart 0
mp_tournament_post_match_period 90
mp_tournament_prevent_team_switch_on_readyup 1
mp_tournament_stopwatch 0
mp_winlimit 0
mp_windifference 0
mp_windifference_min 0
tf_bot_quota 0
tf_bot_quota_mode fill
tf_allow_player_name_change 0

sv_allowdownload 1
sv_allow_votes 0
sv_alltalk 0
sv_alltalk_betweenrounds 0
tf_gravetalk 1
sv_cacheencodedents 1
sv_cheats 0
sv_gravity 800
sv_pure 2
sv_pure_kick_clients 1
sv_pure_trace 1
sv_pure_consensus 5
sv_restrict_aspect_ratio_fov 1
sv_specaccelerate 5
sv_specnoclip 1
sv_specspeed 3
sv_vote_allow_spectators 0
sv_vote_creation_timer 86400
sv_vote_failure_timer 86400
sv_vote_issue_restart_game_allowed 0
sv_vote_issue_kick_allowed 0
sv_vote_issue_changelevel_allowed 0
sv_vote_issue_nextlevel_allowed 0
sv_vote_issue_extendlevel_allowed 0
sv_vote_issue_scramble_teams_allowed 0
sv_vote_issue_autobalance_allowed 0
sv_vote_issue_classlimits_allowed 0
sv_vote_issue_pause_game_allowed 0
sv_vote_ui_hide_disabled_issues 1

sv_contact "https://ozfortress.com" // Contact us via our Discord, found on our site!

tf_allow_player_use 0
tf_allow_sliding_taunt 0
tf_arena_first_blood 0	
tf_arena_round_time 0
tf_arena_use_queue 0
tf_clamp_airducks 1
tf_ctf_bonus_time 0
tf_damage_disablespread 1	
tf_fall_damage_disablespread 1
tf_flag_caps_per_round 0
tf_forced_holiday 0
tf_overtime_nag 0
tf_preround_push_from_damage_enable 1
tf_playergib 1
tf_player_spell_drop_on_death_rate 0
tf_powerup_mode 0
tf_spawn_glows_duration 0
tf_spells_enabled 0
tf_spec_xray 0
tf_use_fixed_weaponspreads 1
tf_weapon_criticals 0
tf_weapon_criticals_melee 0

// Experimental Changes
mp_enableroundwaittime 1 // Prevents map timer from counting down during post/pre round stages.
sv_turbophysics 1

// ------------------------------------------------------------------------------------------------------------------------------------------

//
// SOURCETV SETTINGS
//

// Enable SourceTV - REQUIRED
tv_enable 1

// Other TV Commands
tv_allow_camera_man_steamid 1
tv_allow_static_shots 1
tv_chattimelimit 3
tv_delay 90
tv_delaymapchange 1
tv_delaymapchange_protect 1
tv_msg ""
tv_relayvoice 0
tv_relaypassword ""
tv_timeout 30

// ------------------------------------------------------------------------------------------------------------------------------------------

//
// COMTRESS SETTINGS
//

mp_sixes 1
mp_tournament_readymode 1
mp_tournament_readymode_min 5
mp_tournament_readymode_team_size 6
mp_idledealduringplay 0 // replaces afk
tf_tournament_force_ds 1 // replaces demo check
tf_tournament_allow_pings 1
tv_demo_enable 1 // replaces recordstv
mp_pause_setting 1 // replaces pause
tf_mm_force_high_skill 1
tf_match_emulation 2

// ------------------------------------------------------------------------------------------------------------------------------------------

//
// SOURCEMOD COMMANDS
//

// TF2 Competitive Fixes
//sm_deterministic_fall_damage 0 // Non-random fall damage... duhhhhh. Off in favour of Valve fix.
//sm_empty_active_ubercharges_when_dropped 1 // Empties dropped medi-guns. Gameplay change, on since Season 34.
//sm_fix_ghost_crossbow_bolts 1 // Self explanatory.
//sm_fix_post_pause_state 0 // Keep off, conflicts with pause plugins.
//sm_fix_slope_bug 1 // Ramp-slide fix.
//sm_fix_sticky_delay 1 // Self explanatory.
//sm_inhibit_extendfreeze 1 // Fixes users being able to `extendfreeze` in console to abuse killcam.
//sm_override_pipe_size 0 // Sets the Iron Bomber projectile size to the same as the default launcher (4). Off in favour of Valve fix.
//sm_projectiles_ignore_teammates 1 // Gameplay change, on since Season 34.
//sm_remove_halloween_souls 1 // NICE.
//sm_remove_medic_attach_speed 0 // Gameplay change, leaving off.
//sm_remove_pipe_spin 0 // Gameplay change, leaving off.
//sm_rest_in_peace_rick_may 255 // Transparency of Rick May statues.
//sm_winger_jump_bonus_when_fully_deployed 0 // Gameplay change, leaving off.
//sm_fix_reflect_self_damage 1 // Gameplay change, leaving off.
//sm_projectiles_collide_with_cylinders 0 // Gameplay change, leaving off.
//sm_grounded_rj_resistance 0 // Gameplay change, leaving off.
//sm_prevent_respawning 0 // Gameplay change, leaving off.
//sm_solid_buildings 0 // Gameplay change, leaving off.
//sm_gunboats_always_apply 1

// Enhanced Pause Plugin
//pause_enablechat 1 // Enable people to chat as much as they want during a pause.
//pause_restore_health 1 // Restores health on unpause.
//pause_restore_cloak 1 // Restores cloak on unpause.
//pause_restore_pos 1 // Restores position, angle and velocity on unpause.

// ozfortress Bans Enforcement plugin
//ozf_bans_enforce 1 // Server operators may opt to turn this to warn only, and you are free to do so. We just have this defaulted for our servers.
//ozf_bans_warn 1 // Warn players in the chat when a banned user joins the game.

// ------------------------------------------------------------------------------------------------------------------------------------------

//sm plugins unload TF2Dodgeball
//sm plugins unload TF2DodgeballSpeedHud
//sm plugins unload ThirdPerson

// Prevent map change on match end
mapcyclefile "emptymapcycle.txt"
//sm_nextmap ""
nextlevel ""
mp_mapcycle_empty_timeout_seconds 0

// Restart match when any of the ozfortress configs are executed
mp_tournament_restart
